<div class="container-md p-4 profileContainer"
     *ngIf="doctorService.role === 'ROLE_ADMIN'
     && doctorService.doctor; else orgAdminView">
  <div class="text-center">
    <h4>Dr. {{doctorService.doctor.name}}</h4>
    <div class="chipContainer justify-content-center">
      <p-tag *ngFor="let speciality of doctorService.doctor.specialities"
              [style]="{
                borderRadius: '5px',
                padding: '5px',
                width: '120px',
                background: '#34b0b2',
                color: 'white'}">
        {{speciality}}</p-tag >
    </div>
    <p-divider></p-divider>
  </div>

  <div class="row">
    <div class="col personalDetails">
      <h5 class="text-md-start text-center">Personal Details</h5>
      <div class="chipContainer text-md-start text-center">
        <p-tag>{{doctorService.doctor.email}}</p-tag>
        <p-tag>{{doctorService.doctor.phone}}</p-tag>
        <p-tag>{{doctorService.doctor.gender}}</p-tag>
      </div>
    </div>

    <div class="col degrees">
      <h5 class="text-md-end text-center">Degrees</h5>
      <div class="chipContainer text-md-end text-center">
        <p-tag *ngFor="let degree of doctorService.doctor.degrees"
        [style]="{
                margin: '0 0 10px 10px'
        }">
          {{degree}}</p-tag>
      </div>
    </div>
  </div>

  <div class="orgContainer d-flex flex-column gap-3" *ngFor="let org of orgs">
    <h5 class="mt-4">{{org.name}}</h5>
    <div class="row p-0 m-0">
      <div class="chipContainer col p-0 m-0">
        <p-tag>{{"Consultation Fee: "+org.fees[0]}}</p-tag>
        <p-tag>{{"Followup Fee: "+org.fees[1]}}</p-tag>
        <p-tag>{{"Report Fee: "+org.fees[2]}}</p-tag>

      </div>
    </div>
    <div class="docOrgInfoTables">

      <span class="card text-center availableTimes" *ngFor="let day of org.availableDayTimes">
        <b class="day">{{day.day}}</b>
        <p>S: {{day.startTime}}</p>
        <p>E: {{day.endTime}}</p>
      </span>

<!--      <p-table [value]=[1] styleClass="p-datatable-gridlines"-->
<!--               class="col" [tableStyle]="{'min-width': '20rem'}">-->
<!--        <ng-template pTemplate="caption">Availability</ng-template>-->
<!--        <ng-template pTemplate="header">-->
<!--          <tr>-->
<!--            <th *ngFor="let header of colHeaders">{{header}}</th>-->
<!--          </tr>-->
<!--        </ng-template>-->
<!--        <ng-template pTemplate="body">-->
<!--          <tr>-->
<!--            <td *ngFor="let day of org.days">-->
<!--              <p *ngIf="day == '1'">15:00 - 18:00</p>-->
<!--            </td>-->
<!--          </tr>-->
<!--        </ng-template>-->
<!--      </p-table>-->
    </div>
  </div>

</div>

<ng-template #orgAdminView>
  <div class="container-md" *ngIf="doctorService.doctor">
    <div class="text-center">
      <h5>Dr. {{doctorService.doctor.doctor.name}}</h5>
      <div class="chipContainer justify-content-center">
        <p-tag *ngFor="let speciality of doctorService.doctor.doctor.specialities"
               [style]="{
                width: '120px',
                background: '#34b0b2',
                color: 'white'}">
          {{speciality}}</p-tag >
      </div>
      <p-divider></p-divider>
    </div>

    <div class="row">
      <div class="col personalDetails">
        <h5 class="text-md-start text-center">Personal Details</h5>
        <div class="chipContainer justify-content-md-start justify-content-center">
          <p-tag>{{doctorService.doctor.doctor.email}}</p-tag>
          <p-tag>{{doctorService.doctor.doctor.phone}}</p-tag>
          <p-tag>{{doctorService.doctor.doctor.gender | titlecase}}</p-tag>
        </div>
      </div>

      <div class="col degrees">
        <h5 class="text-md-end text-center">Degrees</h5>
        <div class="chipContainer text-md-end text-center">
          <p-tag *ngFor="let degree of doctorService.doctor.doctor.degrees">{{degree}}</p-tag>
        </div>
      </div>
    </div>

    <hr class="mb-4">

    <div class="orgContainer d-flex flex-column gap-3">
      <div class="row p-0 m-0">
        <div class="chipContainer col p-0 m-0">
          <p-tag>{{"Consultation Fee: "+doctorService.doctor.consultationFee}}</p-tag>
          <p-tag>{{"Followup Fee: "+doctorService.doctor.followupFee}}</p-tag>
          <p-tag>{{"Report Fee: "+doctorService.doctor.reportFee}}</p-tag>

        </div>
      </div>
      <div class="docOrgInfoTables row">

        <p-table [value]=[1] styleClass="p-datatable-gridlines"
                 class="col" [tableStyle]="{'min-width': '20rem'}">
          <ng-template pTemplate="caption">Availability</ng-template>
          <ng-template pTemplate="header">
            <tr>
              <th *ngFor="let header of colHeaders">{{header}}</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body">
            <tr *ngIf="doctorService.doctor.availableTimes as time">
              <td><p *ngIf="time.includes('Saturday')">12:00 - 13:00</p></td>
              <td><p *ngIf="time.includes('Sunday')">12:00 - 14:00</p></td>
              <td><p *ngIf="time.includes('Monday')">12:00 - 15:00</p></td>
              <td><p *ngIf="time.includes('Tuesday')">12:00 - 16:00</p></td>
              <td><p *ngIf="time.includes('Wednesday')">12:00 - 16:00</p></td>
              <td><p *ngIf="time.includes('Thursday')">12:00 - 16:00</p></td>
              <td><p *ngIf="time.includes('Friday')">12:00 - 16:00</p></td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>

  </div>
</ng-template>
